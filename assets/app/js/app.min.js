"use strict";var loadFiles={js:[],css:[]},_prevent_scroll=!(window.pivot={init:init});function init(e){var t,n,s="ontouchstart"in window||"onmsgesturechange"in window||!!navigator.MaxTouchPoints,o=0,a=0;if(void 0!==e&&"object"==typeof e&&("touch"in e&&(s=e.touch),"selector"in e&&(t=document.querySelectorAll(e.selector)),0<t.length))for(o=t.length;a<o;a++)handleHover(n=t[a],n.parentNode,e,s)}function handleHover(p,u,h,v){var y,g,f=0,e=getProp(["perspective","webkitPerspective","mozPerspective"]),t=getProp(["transformStyle","webkitTransformStyle","mozTransformStyle"]),b=getProp(["transform","webkitTransform","mozTransform"]),n=getProp(["backfaceVisibility","webkitBackfaceVisibility","mozBackfaceVisibility"]),s=getProp(["willChange"]),w=getProp(["boxShadow","webkitBoxShadow","mozBoxShadow"]),o=getProp(["userSelect","webkitUserSelect","mozUserSelect"]),a=getProp(["transitionProperty","webkitTransitionProperty","mozTransitionProperty"]),i=getProp(["transitionDuration","webkitTransitionDuration","mozTransitionDuration"]),r=(getProp(["transitionDelay","webkitTransitionDelay","mozTransitionDelay"]),getProp(["transitionTimingFunction","webkitTransitionTimingFunction","mozTransitionTimingFunction"]));if(h.perspective&&"number"==typeof h.perspective?(u.style[e]=h.perspective+"px",p.style[e]=h.perspective+"px"):(u.style[e]="1000px",p.style[e]="1000px"),u.style[t]="preserve-3d",p.style[t]="preserve-3d",u.style[o]="none",p.style[o]="none",p.style[b]="rotateY(0deg) rotateX(0deg)",f=h.sensitivity&&"number"==typeof h.sensitivity?h.sensitivity:20,v&&(p.style[n]="hidden"),h.position&&"object"==typeof h.position?(p.style.position=h.position.method,p.style.zIndex=h.position.zindex):p.style.position="relative",h.transition&&"object"==typeof h.transition?(p.style[s]=h.transition.prop,p.style[a]=h.transition.prop,p.style[i]=getUnit(h.transition.duration),p.style[r]=getTFunc(h.transition.timing)):(p.style[s]="transform",p.style[a]="transform",p.style[i]="0.2s",p.style[r]="cubic-bezier(0.3, 1, 0.2, 1)"),h.shadow&&((y=document.createElement("div")).className="shadow",y.style.position="absolute",y.style.top="5%",y.style.left="5%",y.style.bottom="5%",y.style.right="5%",y.style.zIndex=1,y.style[b]="translateZ(-2px)",y.style[w]="0 8px 30px rgba(14, 21, 47, 0.6)",h.transition&&"object"==typeof h.transition?(y.style[s]="box-shadow, transform",y.style[a]="box-shadow",y.style[i]=getUnit(h.transition.duration),y.style[r]=getTFunc(h.transition.timing)):(y.style[s]="box-shadow, transform",y.style[a]="box-shadow",y.style[i]="0.2s",y.style[r]="cubic-bezier(0.3, 1, 0.2, 1)"),p.appendChild(y)),h.shine&&((g=document.createElement("div")).className="shine",g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.bottom=0,g.style.right=0,g.style.zIndex=9,g.style.opacity=0,h.transition&&"object"==typeof h.transition?(g.style[s]="opacity, transform",g.style[a]="opacity",g.style[i]=getUnit(h.transition.duration),g.style[r]=getTFunc(h.transition.timing)):(g.style[s]="box-shadow, transform",g.style[a]="box-shadow",g.style[i]="0.2s",g.style[r]="cubic-bezier(0.3, 1, 0.2, 1)"),p.appendChild(g)),h.child3D&&"number"==typeof h.child3D)for(var l=_target.children.length,c=0;c<l;c++)h.shadow&&p.children[c].className===y.className||h.shine&&p.children[c].className===g.className||(p.children[c].style[b]="translateZ("+h.child3D+"px)");function d(){h.hoverClass&&h.hoverInClass?(p.className+=" "+h.hoverClass+" "+h.hoverInClass,setTimeout(function(){p.className=removeClass(p.className,h.hoverInClass)},1e3)):h.hoverClass?p.className+=" "+h.hoverClass:h.hoverInClass&&(p.className+=" "+h.hoverInClass,setTimeout(function(){p.className=removeClass(p.className,h.hoverInClass)},1e3))}function m(e){var t=u.offsetWidth,n=u.offsetHeight,s=p.getBoundingClientRect(),o=v?e.touches[0].clientX-s.left:e.offsetX,a=v?e.touches[0].clientY-s.top:e.offsetY,i=h.invert?-(t/2-o)/f:(t/2-o)/f,r=h.invert?(n/2-a)/f:-(n/2-a)/f,l=a-n/2,c=o-t/2,d=Math.atan2(l,c)*(180/Math.PI)-90,m=d<0?360+d:d;h.scale?p.style[b]="rotateY("+i+"deg) rotateX("+r+"deg) scale3d(1.05, 1.05, 1.05)":p.style[b]="rotateY("+i+"deg) rotateX("+r+"deg)",h.shadow&&(y.style[w]="0 24px 48px rgba(14, 21, 47, 0.4), 0 12px 24px rgba(14, 21, 47, 0.4)"),h.shine&&(g.style.opacity=1,g.style.backgroundImage="linear-gradient("+m+"deg, rgba(230, 230, 230, "+a/n*.5+") 0%, transparent 80%)")}function C(){h.shadow&&(y.style[w]="0 8px 30px rgba(14, 21, 47, 0.6)"),h.persist||(p.style[b]="rotateX(0deg) rotateY(0deg)",h.shine&&(g.style.opacity=0)),h.hoverClass&&h.hoverOutClass?(p.className+=" "+h.hoverOutClass,p.className=removeClass(p.className,h.hoverClass),setTimeout(function(){p.className=removeClass(p.className,h.hoverOutClass)},1e3)):h.hoverClass?p.className=removeClass(p.className,h.hoverClass):h.hoverOutClass&&(p.className+=" "+h.hoverOutClass,setTimeout(function(){p.className=removeClass(p.className,h.hoverOutClass)},1e3))}v?(u.addEventListener("touchstart",function(){return _prevent_scroll=_prevent_scroll||!0,d()}),u.addEventListener("touchmove",function(e){return _prevent_scroll&&e.preventDefault(),m(e)}),u.addEventListener("touchend",function(){return _prevent_scroll&&(window.preventScroll=!1),C()})):(u.addEventListener("mouseenter",function(){return d()}),u.addEventListener("mousemove",function(e){return m(e)}),u.addEventListener("mouseleave",function(){return C()}))}function getProp(e){for(var t=e.length,n=0;n<t;n++)if(void 0!==document.body.style[e[n]])return e[n];return null}function getUnit(e){return"number"!=typeof e?(console.warn("Please provide a numeric value"),"0.2s"):1<e&&e<=50?"0."+e+"s":50<e?e+"ms":e+"s"}function getTFunc(e){var t=e.length;return e.constructor!==Array?(console.warn("Bad input: expected array"),"none"):4===t?"number"==typeof e[0]&&"number"==typeof e[1]&&"number"==typeof e[2]&&"number"==typeof e[3]?"cubic-bezier("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")":(console.warn("Bad input: expected numbers"),"none"):(console.warn("Bad input: expected four values"),"none")}function removeClass(e,t){var n=new RegExp(t+"\\s*","gi");return e.replace(n,"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function rebounce(e){var t,n,s,o,a;return function(){for(n=this,s=[],o=arguments.length,a=0;a<o;++a)s[a]=arguments[a];t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){e.apply(n,s),t=null})}}function loadScript(e,t,n){n=n||"body",t=t||function(){};var s=null;(s=document.createElement("script")).type="text/javascript",s.src=e,s.onload=function(){loadFiles.js.push(e),t()},"head"===n?document.getElementsByTagName("head")[0].appendChild(s):document.body.appendChild(s)}function loadCSS(e,t,n){n=n||"head",t=t||function(){};var s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.onload=s.onreadystatechange=function(){loadFiles.css.push(e),t()},s.href=e,"head"===n?document.getElementsByTagName("head")[0].appendChild(s):document.body.appendChild(s)}function initTheme(){var e=null!==localStorage.getItem("darkSwitch")&&"dark"===localStorage.getItem("darkSwitch");(darkSwitch.checked=e)?(document.body.setAttribute("data-theme","dark"),document.querySelector(".dark-switch-label-span").innerHTML='<i class="fas fa-sun"></i>'):(document.body.removeAttribute("data-theme"),document.querySelector(".dark-switch-label-span").innerHTML='<i class="fas fa-moon"></i>')}function resetTheme(){darkSwitch.checked?(document.body.setAttribute("data-theme","dark"),document.querySelector(".dark-switch-label-span").innerHTML='<i class="fas fa-sun"></i>',localStorage.setItem("darkSwitch","dark")):(document.body.removeAttribute("data-theme"),document.querySelector(".dark-switch-label-span").innerHTML='<i class="fas fa-moon"></i>',localStorage.removeItem("darkSwitch"))}!function(t,e){t(function(){a()?s():o(),t(window).scroll(function(){a()?s():o()}),t(".navbar-toggler").click(function(e){"false"===t(this).attr("aria-expanded")?(a()&&t("nav.navbar").removeClass(["navbar-dark","top-nav"]).addClass("navbar-light"),t("html").addClass("overflow-hidden")):(a()&&t("nav.navbar").addClass(["navbar-dark","top-nav"]).removeClass("navbar-light"),t("html").removeClass("overflow-hidden"))});var e=t("#return-to-top");t(window).scroll(function(){50<=t(this).scrollTop()?e.addClass("bounceInRight").removeClass("bounceOutDown"):e.removeClass("bounceInRight").addClass("bounceOutDown")}),e.click(function(){t("body,html").animate({scrollTop:0},500)})}),e.init({selector:".site-post-list .post-card-image-link",sensitivity:80,touch:!1}),0!==t(".post-content pre code").length&&(loadCSS("//cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism-tomorrow.min.css"),loadScript("//cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js",function(){loadScript("//cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js",function(){t(".post-content pre code").attr("class",function(e,t){if(void 0!==t)return t.replace(/language-html/g,"language-markup")}),"undefined"!==window.Prism&&(Prism.plugins.autoloader.languages_path="//cdn.jsdelivr.net/npm/prismjs/components/",Prism.highlightAll())})}),loadCSS("//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css"),loadScript("//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js"),t(".post-content pre").addClass("line-numbers"),loadCSS("//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css"),loadScript("//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js"),loadScript("//cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js"),loadScript("//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"),loadScript("//cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js")),0!==t(".post-content img").length&&loadScript("//cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js",function(){mediumZoom(document.querySelectorAll(".post-content img"),{background:"#fff"}).on("open",function(e){})});var n=document.getElementById("darkSwitch");function s(){t("nav.navbar").addClass("top-nav").addClass("navbar-dark").removeClass("navbar-light")}function o(){t("nav.navbar").removeClass("top-nav").removeClass("navbar-dark").addClass("navbar-light")}function a(){return t(document).scrollTop()<=0}n&&(initTheme(),n.addEventListener("change",function(e){resetTheme()})),t(".dark-switch-label-span").tooltip(),localStorage.noPopUp?t("#toast").remove():(t("#toast").toast({autohide:!0,delay:5e3}).toast("show"),t("#toast .close").click(function(){localStorage.setItem("noPopUp",!0)}))}(window.jQuery,window.pivot),window.onload=function(){console.log("已经动态加载资源：",loadFiles)};