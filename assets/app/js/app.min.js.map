{"version":3,"sources":["app.js"],"names":["loadFiles","js","css","loadScript","fileName","callback","into","script","document","createElement","type","src","onload","push","getElementsByTagName","appendChild","body","loadCSS","rel","onreadystatechange","href","frenemy","pivot","addTopNav","addClass","removeClass","removeTopNav","isScrollTop","scrollTop","window","scroll","click","event","this","attr","returnTop","animate","init","selector","sensitivity","touch","i","clazz","undefined","replace","Prism","plugins","autoloader","languages_path","highlightAll","mediumZoom","querySelectorAll","on","jQuery","console","log"],"mappings":"AAAA,aACA,IAAIA,UAAY,CACdC,GAAI,GACJC,IAAK,IAwHP,SAASC,WAAWC,EAAUC,EAAUC,GACtCA,EAAOA,GAAQ,OACfD,EAAWA,GAAY,aAEvB,IAAIE,EAAS,MACbA,EAASC,SAASC,cAAc,WACzBC,KAAO,kBACdH,EAAOI,IAAMP,EACbG,EAAOK,OAAS,WACdZ,UAAUC,GAAGY,KAAKT,GAClBC,KAEW,SAATC,EACFE,SAASM,qBAAqB,QAAQ,GAAGC,YAAYR,GAErDC,SAASQ,KAAKD,YAAYR,GAY9B,SAASU,QAAQb,EAAUC,EAAUC,GACnCA,EAAOA,GAAQ,OACfD,EAAWA,GAAY,aAGvB,IAAIH,EAAMM,SAASC,cAAc,QACjCP,EAAIQ,KAAO,WACXR,EAAIgB,IAAM,aACVhB,EAAIU,OAASV,EAAIiB,mBAAqB,WACpCnB,UAAUE,IAAIW,KAAKT,GACnBC,KAEFH,EAAIkB,KAAOhB,EACE,SAATE,EACFE,SAASM,qBAAqB,QAAQ,GAAGC,YAAYb,GAErDM,SAASQ,KAAKD,YAAYb,IAhK9B,SAAWmB,EAASC,GAyFlB,SAASC,IACPF,EAAQ,cAAcG,SAAS,WAAWA,SAAS,eAAeC,YAAY,gBAMhF,SAASC,IACPL,EAAQ,cAAcI,YAAY,WAAWA,YAAY,eAAeD,SAAS,gBAOnF,SAASG,IACP,OAAON,EAAQb,UAAUoB,aAAe,EAxG1CP,EAAQ,WAENM,IAAgBJ,IAAcG,IAE9BL,EAAQQ,QAAQC,OAAO,WACrBH,IAAgBJ,IAAcG,MAGhCL,EAAQ,mBAAmBU,MAAM,SAAUC,GACG,UAAxCX,EAAQY,MAAMC,KAAK,kBACjBP,KACFN,EAAQ,cAAcI,YAAY,CAAC,cAAe,YAAYD,SAAS,gBAEzEH,EAAQ,QAAQG,SAAS,qBAErBG,KACFN,EAAQ,cAAcG,SAAS,CAAC,cAAe,YAAYC,YAAY,gBAEzEJ,EAAQ,QAAQI,YAAY,sBAIhC,IAAIU,EAAYd,EAAQ,kBACxBA,EAAQQ,QAAQC,OAAO,WACY,IAA7BT,EAAQY,MAAML,YAChBO,EAAUX,SAAS,iBAAiBC,YAAY,iBAEhDU,EAAUV,YAAY,iBAAiBD,SAAS,mBAGpDW,EAAUJ,MAAM,WACdV,EAAQ,aAAae,QACnB,CACER,UAAW,GAEb,SAONN,EAAMe,KAAK,CACTC,SAAU,wBACVC,YAAa,GACbC,OAAO,IAITvB,QAAQ,uEACRd,WAAW,8DAA+D,WACxEA,WAAW,4EAA6E,WAEpFkB,EAAQ,0BAA0Ba,KAAK,QAAS,SAAUO,EAAGC,GAC3D,QAAcC,IAAVD,EACF,OAAOA,EAAME,QAAQ,iBAAkB,qBAItB,cAAjBf,OAAOgB,QACTA,MAAMC,QAAQC,WAAWC,eAAiB,6CAC1CH,MAAMI,oBAMdhC,QAAQ,kFACRd,WAAW,iFAEXkB,EAAQ,qBAAqBG,SAAS,gBAEtCP,QAAQ,wEACRd,WAAW,uEACXA,WAAW,mFACXA,WAAW,0DACXA,WAAW,2FAGXA,WAAW,6DAA8D,WAC5D+C,WAAW1C,SAAS2C,iBAAiB,sBAC3CC,GAAG,OAAQ,SAAUpB,QAlF9B,CA2GGH,OAAOwB,OAAQxB,OAAOP,OAyDzBO,OAAOjB,OAAS,WACd0C,QAAQC,IAAI,YAAavD","file":"app.min.js","sourcesContent":["'use strict';\r\nvar loadFiles = {\r\n  js: [],\r\n  css: []\r\n};\r\n\r\n(function (frenemy, pivot) {\r\n  frenemy(function () {\r\n    //初始化顶栏透明\r\n    isScrollTop() ? addTopNav() : removeTopNav();\r\n    //滚动顶栏透明\r\n    frenemy(window).scroll(function () {\r\n      isScrollTop() ? addTopNav() : removeTopNav();\r\n    });\r\n    // 移动端点击菜单按钮添加样式\r\n    frenemy('.navbar-toggler').click(function (event) {\r\n      if (frenemy(this).attr('aria-expanded') === 'false') {\r\n        if (isScrollTop()) {\r\n          frenemy('nav.navbar').removeClass(['navbar-dark', 'top-nav']).addClass('navbar-light');\r\n        }\r\n        frenemy('html').addClass('overflow-hidden');\r\n      } else {\r\n        if (isScrollTop()) {\r\n          frenemy('nav.navbar').addClass(['navbar-dark', 'top-nav']).removeClass('navbar-light');\r\n        }\r\n        frenemy('html').removeClass('overflow-hidden');\r\n      }\r\n    });\r\n    // 回到顶部\r\n    var returnTop = frenemy('#return-to-top');\r\n    frenemy(window).scroll(function () {\r\n      if (frenemy(this).scrollTop() >= 50) {\r\n        returnTop.addClass('bounceInRight').removeClass('bounceOutDown')\r\n      } else {\r\n        returnTop.removeClass('bounceInRight').addClass('bounceOutDown');\r\n      }\r\n    });\r\n    returnTop.click(function () {\r\n      frenemy('body,html').animate(\r\n        {\r\n          scrollTop: 0\r\n        },\r\n        500\r\n      );\r\n    });\r\n\r\n  });\r\n\r\n  // 文章列表动效\r\n  pivot.init({\r\n    selector: '.post-card-image-link',\r\n    sensitivity: 80,\r\n    touch: false\r\n  });\r\n\r\n  //Prism高亮支持\r\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism-tomorrow.min.css');\r\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/components/prism-core.min.js', function () {\r\n    loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js', function () {\r\n        //将html代码块支持高亮\r\n        frenemy('.post-content pre code').attr('class', function (i, clazz) {\r\n          if (clazz !== undefined) {\r\n            return clazz.replace(/language-html/g, 'language-markup');\r\n          }\r\n        });\r\n        //设置高亮语言样式文件地址\r\n        if (window.Prism !== 'undefined') {\r\n          Prism.plugins.autoloader.languages_path = '//cdn.jsdelivr.net/npm/prismjs/components/';\r\n          Prism.highlightAll();\r\n        }\r\n      }\r\n    );\r\n  });\r\n  //行号\r\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.css');\r\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js');\r\n  //支持行号显示\r\n  frenemy('.post-content pre').addClass('line-numbers');\r\n  //显示语言或者粘贴\r\n  loadCSS('//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.css');\r\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/toolbar/prism-toolbar.min.js');\r\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/show-language/prism-show-language.min.js');\r\n  loadScript('//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js');\r\n  loadScript('//cdn.jsdelivr.net/npm/prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js');\r\n\r\n  //图箱支持\r\n  loadScript('//cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js', function () {\r\n    var zoom = mediumZoom(document.querySelectorAll('.post-content img'));\r\n    zoom.on('open', function (event) {\r\n    })\r\n  });\r\n\r\n  /**\r\n   * 添加导航样式\r\n   */\r\n  function addTopNav() {\r\n    frenemy('nav.navbar').addClass('top-nav').addClass('navbar-dark').removeClass('navbar-light');\r\n  }\r\n\r\n  /**\r\n   * 移除导航样式\r\n   */\r\n  function removeTopNav() {\r\n    frenemy('nav.navbar').removeClass('top-nav').removeClass('navbar-dark').addClass('navbar-light');\r\n  }\r\n\r\n  /**\r\n   * 是否在页面最顶部\r\n   * @returns {boolean} true = 是在页面顶部\r\n   */\r\n  function isScrollTop() {\r\n    return frenemy(document).scrollTop() <= 0\r\n  }\r\n})(window.jQuery, window.pivot);\r\n\r\n/**\r\n * 动态加载JS文件的方法\r\n * Load javascript file method\r\n *\r\n * @param {String}   fileName              JS文件名\r\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\r\n * @param {String}   [into='head']         嵌入页面的位置\r\n */\r\nfunction loadScript(fileName, callback, into) {\r\n  into = into || 'body';\r\n  callback = callback || function () {\r\n  };\r\n  var script = null;\r\n  script = document.createElement('script');\r\n  script.type = 'text/javascript';\r\n  script.src = fileName;\r\n  script.onload = function () {\r\n    loadFiles.js.push(fileName);\r\n    callback();\r\n  };\r\n  if (into === 'head') {\r\n    document.getElementsByTagName('head')[0].appendChild(script);\r\n  } else {\r\n    document.body.appendChild(script);\r\n  }\r\n}\r\n\r\n/**\r\n * 动态加载CSS文件的方法\r\n * Load css file method\r\n *\r\n * @param {String}   fileName              CSS文件名\r\n * @param {Function} [callback=function()] 加载成功后执行的回调函数\r\n * @param {String}   [into='head']         嵌入页面的位置\r\n */\r\nfunction loadCSS(fileName, callback, into) {\r\n  into = into || 'head';\r\n  callback = callback || function () {\r\n  };\r\n\r\n  var css = document.createElement('link');\r\n  css.type = 'text/css';\r\n  css.rel = 'stylesheet';\r\n  css.onload = css.onreadystatechange = function () {\r\n    loadFiles.css.push(fileName);\r\n    callback();\r\n  };\r\n  css.href = fileName;\r\n  if (into === 'head') {\r\n    document.getElementsByTagName('head')[0].appendChild(css);\r\n  } else {\r\n    document.body.appendChild(css);\r\n  }\r\n}\r\n\r\nwindow.onload = function () {\r\n  console.log('已经动态加载资源：', loadFiles);\r\n};\r\n"]}